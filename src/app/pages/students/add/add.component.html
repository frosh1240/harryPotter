<div class="container">
  <div class="row">
    <div class="col-md-4">
      <h2 class="mt-3 text-add">Add Studenst</h2>
      <form [formGroup]="addStudent" (ngSubmit)="agregar()">
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            formControlName="name"
            type="text"
            class="form-control"
            id="name"
            autocomplete="off"
            [(ngModel)]="add.name"
          />
          <span
            *ngIf="
              addStudent.get('name')?.invalid && addStudent.get('name')?.touched
            "
            class="text-danger"
          >
            <strong> Name </strong> Is required
          </span>
        </div>

        <div class="mb-3">
          <label for="patronus" class="form-label">Patronus</label>
          <input
            formControlName="patronus"
            type="text"
            class="form-control"
            id="patronus"
            autocomplete="off"
            [(ngModel)]="add.patronus"
          />
          <span
            *ngIf="
              addStudent.get('patronus')?.invalid &&
              addStudent.get('patronus')?.touched
            "
            class="text-danger"
          >
            <strong> Patronus </strong> is required.
          </span>
        </div>

        <div class="mb-3">
          <label for="age" class="form-label">Age</label>
          <input
            formControlName="age"
            type="number"
            class="form-control"
            id="age"
            rows="8"
            [(ngModel)]="add.age"
          />

          <span
            *ngIf="
              addStudent.get('age')?.invalid && addStudent.get('age')?.touched
            "
            class="text-danger"
          >
            <strong> Age </strong> is required.
          </span>
        </div>

        <div class="mb-3">
          <label for="house" class="form-label">House</label>
          <input
            formControlName="house"
            type="text"
            class="form-control"
            id="house"
            rows="8"
            [(ngModel)]="add.house"
          />

          <span
            *ngIf="
              addStudent.get('house')?.invalid &&
              addStudent.get('house')?.touched
            "
            class="text-danger"
          >
            <strong> House </strong> is required.
          </span>
        </div>
        <button
          type="submit"
          [disabled]="addStudent.invalid"
          class="btn btn-primary float-end"
        >
          Aceptar
        </button>
        <button class="btn btn-secondary" routerLink="/tabs/students">
          Volver
        </button>
      </form>
    </div>
    <div class="col-md-8">
      <h2 class="mt-3 text-add">New Students</h2>
      <div class="navFilter">
        <mat-form-field>
          <input
            type="text"
            matInput
            (keyup)="applyFilter($event)"
            placeholder="Ex. Albus"
            #input
          />
        </mat-form-field>
      </div>
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="mat-elevation-z8"
      >
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
          <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="patronus">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Patronus</th>
          <td mat-cell *matCellDef="let element">{{ element.patronus }}</td>
        </ng-container>

        <ng-container matColumnDef="age">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Age</th>
          <td mat-cell *matCellDef="let element">
            {{ element.age }}
          </td>
        </ng-container>

        <ng-container matColumnDef="house">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>House</th>
          <td mat-cell *matCellDef="let element">
            {{ element.house }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            No data matching the filter "{{ input.value }}"
          </td>
        </tr>
      </table>

      <mat-paginator
        [pageSizeOptions]="[15, 30, 50]"
        showFirstLastButtons
      ></mat-paginator>
    </div>
  </div>
</div>
